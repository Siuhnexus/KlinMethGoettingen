<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="generator" content="quarto-1.3.340">

        <meta name="viewport" 
 content="width=device-width, initial-scale=1.0, user-scalable=yes">

        <meta name="author" content="York Hagmayer">
        <meta name="author" content="Bente Hinkenhuis">

        <title>KlinMeth-Vorkurs - Sitzung 3</title>
        <style>
            code {
                white-space: pre-wrap;
            }
            span.smallcaps {
                font-variant: small-caps;
            }
            div.columns {
                display: flex;
                gap: min(4vw, 1.5em);
            }
            div.column {
                flex: auto;
                overflow-x: auto;
            }
            div.hanging-indent {
                margin-left: 1.5em;
                text-indent: -1.5em;
            }
            ul.task-list {
                list-style: none;
            }
            ul.task-list li input[type="checkbox"] {
                width: 0.8em;
                margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */
                vertical-align: middle;
            }
            /* CSS for syntax highlighting */
            pre > code.sourceCode {
                white-space: pre;
                position: relative;
            }
            pre > code.sourceCode > span {
                display: inline-block;
                line-height: 1.25;
            }
            pre > code.sourceCode > span:empty {
                height: 1.2em;
            }
            .sourceCode {
                overflow: visible;
            }
            code.sourceCode > span {
                color: inherit;
                text-decoration: inherit;
            }
            div.sourceCode {
                margin: 1em 0;
            }
            pre.sourceCode {
                margin: 0;
            }
            @media screen {
                div.sourceCode {
                    overflow: auto;
                }
            }
            @media print {
                pre > code.sourceCode {
                    white-space: pre-wrap;
                }
                pre > code.sourceCode > span {
                    text-indent: -5em;
                    padding-left: 5em;
                }
            }
            pre.numberSource code {
                counter-reset: source-line 0;
            }
            pre.numberSource code > span {
                position: relative;
                left: -4em;
                counter-increment: source-line;
            }
            pre.numberSource code > span > a:first-child::before {
                content: counter(source-line);
                position: relative;
                left: -1em;
                text-align: right;
                vertical-align: baseline;
                border: none;
                display: inline-block;
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                -khtml-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
                padding: 0 4px;
                width: 4em;
            }
            pre.numberSource {
                margin-left: 3em;
                padding-left: 4px;
            }
            div.sourceCode {
            }
            @media screen {
                pre > code.sourceCode > span > a:first-child::before {
                    text-decoration: underline;
                }
            }
        </style>

        <script src="Sitzung3_files/libs/clipboard/clipboard.min.js"></script>
        <script src="Sitzung3_files/libs/quarto-html/quarto.js"></script>
        <script src="Sitzung3_files/libs/quarto-html/popper.min.js"></script>
        <script src="Sitzung3_files/libs/quarto-html/tippy.umd.min.js"></script>
        <script src="Sitzung3_files/libs/quarto-html/anchor.min.js"></script>
        <link href="Sitzung3_files/libs/quarto-html/tippy.css" 
 rel="stylesheet"> 
        <link href="Sitzung3_files/libs/quarto-html/quarto-syntax-highlighting.css" 
 rel="stylesheet" 
 id="quarto-text-highlighting-styles"> 
        <script src="Sitzung3_files/libs/bootstrap/bootstrap.min.js"></script>
        <link href="Sitzung3_files/libs/bootstrap/bootstrap-icons.css" 
 rel="stylesheet"> 
        <link href="Sitzung3_files/libs/bootstrap/bootstrap.min.css" 
 rel="stylesheet" 
 id="quarto-bootstrap" 
 data-mode="light"> 
        <style>
            html {
                scroll-behavior: smooth;
            }
        </style>

        <link rel="stylesheet" href="../style.css">
    </head>

    <body><div class="header"><div class="nav-item"><a href="../Sitzungen/">Sitzungen</a><div class="nav-list"><div class="nav-item"><a href="../Sitzungen/1_ALM_1.html">1_ALM_1</a></div><div class="nav-item"><a href="../Sitzungen/1_ALM_1_L.html">1_ALM_1_L</a></div><div class="nav-item"><a href="../Sitzungen/1_ALM_2.html">1_ALM_2</a></div><div class="nav-item"><a href="../Sitzungen/1_ALM_3.html">1_ALM_3</a></div><div class="nav-item"><a href="../Sitzungen/1_ALM_4.html">1_ALM_4</a></div></div></div><div class="nav-item"><a href="../Vorkurs/">Vorkurs</a><div class="nav-list"><div class="nav-item"><a href="../Vorkurs/Sitzung1.html">Sitzung1</a></div><div class="nav-item"><a href="../Vorkurs/Sitzung2.html">Sitzung2</a></div><div class="nav-item"><a href="../Vorkurs/Sitzung3.html">Sitzung3</a></div><div class="nav-item"><a href="../Vorkurs/Sitzung4.html">Sitzung4</a></div><div class="nav-item"><a href="../Vorkurs/Sitzung5.html">Sitzung5</a></div></div></div></div>
        

        <div id="quarto-content" 
 class="page-columns page-rows-contents page-layout-article">
            <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
                <nav id="TOC" role="doc-toc" class="toc-active">
                    <h2 id="toc-title">Table of contents</h2>

                    <ul>
                        <li>
                            <a href="#klinmeth-vorkurs---ggplot" 
 id="toc-klinmeth-vorkurs---ggplot" 
 class="nav-link active" 
 data-scroll-target="#klinmeth-vorkurs---ggplot">KlinMeth-Vorkurs - ggplot</a>
                            <ul class="collapse">
                                <li>
                                    <a href="#vorbereitung" 
 id="toc-vorbereitung" 
 class="nav-link" 
 data-scroll-target="#vorbereitung">Vorbereitung</a>
                                    <ul class="collapse">
                                        <li>
                                            <a href="#zusätzliche-ggplot-pakete" 
 id="toc-zusätzliche-ggplot-pakete" 
 class="nav-link" 
 data-scroll-target="#zusätzliche-ggplot-pakete">Zusätzliche ggplot-Pakete</a>
                                        </li>
                                        <li>
                                            <a href="#pakete-laden-und-working-directory-setzen" 
 id="toc-pakete-laden-und-working-directory-setzen" 
 class="nav-link" 
 data-scroll-target="#pakete-laden-und-working-directory-setzen">Pakete laden und Working
                                                directory setzen</a>
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="#grafiken-für-zwei-kontinuierliche-variablen" 
 id="toc-grafiken-für-zwei-kontinuierliche-variablen" 
 class="nav-link" 
 data-scroll-target="#grafiken-für-zwei-kontinuierliche-variablen">Grafiken für zwei kontinuierliche
                                        Variablen</a>
                                    <ul class="collapse">
                                        <li>
                                            <a href="#scatterplot" 
 id="toc-scatterplot" 
 class="nav-link" 
 data-scroll-target="#scatterplot">Scatterplot</a>
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="#histogramme" 
 id="toc-histogramme" 
 class="nav-link" 
 data-scroll-target="#histogramme">Histogramme</a>
                                </li>
                                <li>
                                    <a href="#grafiken-für-kategorialen-praediktor-und-kontinuierliches-kriterium" 
 id="toc-grafiken-für-kategorialen-praediktor-und-kontinuierliches-kriterium" 
 class="nav-link" 
 data-scroll-target="#grafiken-für-kategorialen-praediktor-und-kontinuierliches-kriterium">Grafiken für kategorialen Praediktor
                                        und kontinuierliches Kriterium</a>
                                    <ul class="collapse">
                                        <li>
                                            <a href="#grafiken-für-rohdaten" 
 id="toc-grafiken-für-rohdaten" 
 class="nav-link" 
 data-scroll-target="#grafiken-für-rohdaten">Grafiken für Rohdaten</a>
                                        </li>
                                        <li>
                                            <a href="#grafiken-für-mittelwerte-in-verschiedenen-gruppen" 
 id="toc-grafiken-für-mittelwerte-in-verschiedenen-gruppen" 
 class="nav-link" 
 data-scroll-target="#grafiken-für-mittelwerte-in-verschiedenen-gruppen">Grafiken für Mittelwerte in
                                                verschiedenen Gruppen</a>
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="#anhang" 
 id="toc-anhang" 
 class="nav-link" 
 data-scroll-target="#anhang">Anhang</a>
                                    <ul class="collapse">
                                        <li>
                                            <a href="#datenerschaffung-nur-für-testzweckesimulationen-erlaubt" 
 id="toc-datenerschaffung-nur-für-testzweckesimulationen-erlaubt" 
 class="nav-link" 
 data-scroll-target="#datenerschaffung-nur-für-testzweckesimulationen-erlaubt">Datenerschaffung (nur für
                                                Testzwecke/Simulationen
                                                erlaubt)</a>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </nav>
            </div>
            <main class="content" id="quarto-document-content">
                <header id="title-block-header" 
 class="quarto-title-block default">
                    <div class="quarto-title">
                        <h1 class="title">KlinMeth-Vorkurs - Sitzung 3</h1>
                    </div>

                    <div class="quarto-title-meta">
                        <div>
                            <div class="quarto-title-meta-heading">Authors</div>
                            <div class="quarto-title-meta-contents">
                                <p>York Hagmayer</p>
                                <p>Bente Hinkenhuis</p>
                            </div>
                        </div>
                    </div>
                </header>

                <section id="klinmeth-vorkurs---ggplot" class="level1">
                    <h1>KlinMeth-Vorkurs - ggplot</h1>
                    <p>
                        Heute wollen wir uns damit beschäftigen, wie man schöne
                        Grafiken mit R erstellen kann. Dazu werden wir ggplot
                        benutzen.
                    </p>
                    <p>
                        Außerdem fangen wir heute schon damit an, so zu
                        arbeiten, wie wir es bei den meisten Analysen im
                        Semester auch tun werden. Das heißt wir laden zunächst
                        die nötigen Pakete, setzen dann das working directory
                        und laden die Daten und machen zum Schluss einige
                        Variablen zu Faktoren, um dann mit einem “polierten”
                        Datensatz weitermachen zu können.
                    </p>
                    <section id="vorbereitung" class="level2">
                        <h2 class="anchored" data-anchor-id="vorbereitung">
                            Vorbereitung
                        </h2>
                        <p>
                            Für alle, die ggplot in der letzten Sitzung noch
                            nicht installiert haben, kommt hier nochmal der
                            nötige Befehl. Außerdem brauchen wir heute das
                            <code>psych</code>-Paket, was ihr auch noch
                            installieren müsst.
                        </p>
                        <div class="cell">
                            <div class="sourceCode cell-code" id="cb1">
                                <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("ggplot2")</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("psych")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                            </div>
                        </div>
                        <section id="zusätzliche-ggplot-pakete" class="level3">
                            <h3 class="anchored" 
 data-anchor-id="zusätzliche-ggplot-pakete">
                                Zusätzliche ggplot-Pakete
                            </h3>
                            <p>
                                Für das weitere Arbeiten und eure eigenen
                                Abschlussarbeiten (wenn ihr sie mit R schreibt)
                                gibt es noch einige weitere praktische Pakete,
                                die ihr auch installieren könnt, wenn ihr wollt.
                            </p>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb2">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages(c("colorBlindness", "directlabels", "dplyr", "gameofthrones", "ggforce", "gghighlight", "ggnewscale", "ggplot2", "ggraph", "ggrepel", "ggtext", "ggthemes", "hexbin", "Hmisc", "mapproj", "maps", "munsell", "ozmaps", "paletteer", "patchwork", "rmapshaper", "scico", "seriation", "sf", "stars", "tidygraph", "tidyr", "wesanderson"))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                            </div>
                        </section>
                        <section id="pakete-laden-und-working-directory-setzen" 
 class="level3">
                            <h3 class="anchored" 
 data-anchor-id="pakete-laden-und-working-directory-setzen">
                                Pakete laden und Working directory setzen
                            </h3>
                            <p>
                                Nun laden wir wie versprochen die Pakete und
                                setzen das working directory (auf euren Pfad
                                anpassen).
                            </p>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb3">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                                <div class="cell-output cell-output-stderr">
                                    <pre><code>
Attaching package: 'psych'</code></pre>
                                </div>
                                <div class="cell-output cell-output-stderr">
                                    <pre><code>The following objects are masked from 'package:ggplot2':

    %+%, alpha</code></pre>
                                </div>
                                <div class="sourceCode cell-code" id="cb6">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"C:/Users/bente/Documents/Studium/BachelorPsychologie/Projekte/KlinMethGoettingen/Vorkurs"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                            </div>
                            <p>
                                Jetzt sind wir bereit, die heutigen Daten zu
                                laden und Faktoren korrekt zu kodieren.
                            </p>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb7">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"consumption_ophase.csv"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>gender <span class="ot">=</span> <span class="fu">factor</span>(dat<span class="sc">$</span>gender, <span class="at">levels=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"female"</span>, <span class="st">"male"</span>, <span class="st">"diverse"</span>, <span class="st">"no answer"</span>))</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>home <span class="ot">=</span> <span class="fu">factor</span>(dat<span class="sc">$</span>home, <span class="at">levels=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"north"</span>, <span class="st">"south"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                            </div>
                        </section>
                    </section>
                    <section id="grafiken-für-zwei-kontinuierliche-variablen" 
 class="level2">
                        <h2 class="anchored" 
 data-anchor-id="grafiken-für-zwei-kontinuierliche-variablen">
                            Grafiken für zwei kontinuierliche Variablen
                        </h2>
                        <p>
                            Zunächst wollen wir uns mit zwei kontinuierlichen
                            Variablen beschäftigen und ggplot dabei ein bisschen
                            besser kennenlernen.
                        </p>
                        <p>
                            Grundsätzlich benötigt ggplot immer eine
                            Datenvariable und ein
                            <code>aes()</code>-Objekt, was für aesthetics steht.
                            Mit diesem Objekt sagen wir ggplot, welche Variable
                            des Datensatzes welche Rolle einnimmt. Einerseits
                            kann man festlegen, welche Variable auf die x- bzw.
                            die y-Achse kommt. Andererseits lassen sich
                            Gruppierungsvariablen, Variablen zum Einfärben und
                            bspw. Variablen, die den Linientyp bestimmen,
                            festlegen.
                        </p>
                        <section id="scatterplot" class="level3">
                            <h3 class="anchored" data-anchor-id="scatterplot">
                                Scatterplot
                            </h3>
                            <p>
                                Bringen wir zunächst einfach mal das Gewicht auf
                                die x-Achse und den Alkoholkonsum auf die
                                y-Achse.
                            </p>
                            <p>
                                Nur das reicht aber nicht aus, weil wir noch
                                nicht festgelegt haben, wie wir plotten wollen.
                                Es gibt dafür immer viele Möglichkeiten, bei
                                einem Scatterplot wollen wir aber meist Punkte
                                sehen, deshalb nutzen wir
                                <code>geom_point()</code>. Wir können die beiden
                                Befehle einfach mit einem
                                <code>+</code> hintereinanderschalten.
                            </p>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb8">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(<span class="at">x =</span> weight, <span class="at">y =</span> alcohol)) <span class="sc">+</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                                <div class="cell-output-display">
                                    <p>
                                        <img src="Sitzung3_files/figure-html/unnamed-chunk-10-1.png" 
 class="img-fluid" 
 width="672"> 
                                    </p>
                                </div>
                            </div>
                            <p>
                                Im nächsten Schritt machen wir zwei Sachen.
                                Erstens lassen wir R die Punkte je nach Heimat
                                der Person einfärben. Außerdem speichern wir den
                                gesamten Plot in einer Variable ab. Geben wir
                                dann die Variable aus (indem wir einfach nur den
                                Namen der Variable schreiben) wird der gesamte
                                Plot ausgegeben. Das ist deshalb praktisch, weil
                                wir dadurch nicht immer wieder die vorherigen
                                Zeilen schreiben müssen, wenn wir etwas zum Plot
                                hinzufügen wollen.
                            </p>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb9">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">=</span> <span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(weight, alcohol, <span class="at">color =</span> home)) <span class="sc">+</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                                <div class="cell-output-display">
                                    <p>
                                        <img src="Sitzung3_files/figure-html/unnamed-chunk-12-1.png" 
 class="img-fluid" 
 width="672"> 
                                    </p>
                                </div>
                            </div>
                            <p>
                                Nun fügen wir zu dem Scatterplot labels und
                                einen Titel hinzu. Man könnte hier auch in der
                                <code>labs()</code>-Funktion einen weiteren
                                Parameter
                                <code>title="Relationship between..."</code>
                                übergeben, anstatt <code>ggtitle()</code> zu
                                benutzen.
                            </p>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb10">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">=</span> p <span class="sc">+</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Weight in kg"</span>, <span class="at">y =</span> <span class="st">"Alcohol consumption in l"</span>) <span class="sc">+</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Relationship between weight and alcohol consumption"</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                                <div class="cell-output-display">
                                    <p>
                                        <img src="Sitzung3_files/figure-html/unnamed-chunk-14-1.png" 
 class="img-fluid" 
 width="672"> 
                                    </p>
                                </div>
                            </div>
                            <p>
                                Außerdem können wir eine Linie mit
                                Konfidenzintervall durch die Daten legen, die
                                den Mittelwert am besten annähert. Diese Linie
                                wird automatisch nach Farbe getrennt gezeichnet.
                            </p>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb11">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                                <div class="cell-output cell-output-stderr">
                                    <pre><code>`geom_smooth()` using method = 'loess' and formula 'y ~ x'</code></pre>
                                </div>
                                <div class="cell-output-display">
                                    <p>
                                        <img src="Sitzung3_files/figure-html/unnamed-chunk-16-1.png" 
 class="img-fluid" 
 width="672"> 
                                    </p>
                                </div>
                            </div>
                            <p>Diese Linie kann auch eine Gerade sein.</p>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb13">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                                <div class="cell-output cell-output-stderr">
                                    <pre><code>`geom_smooth()` using formula 'y ~ x'</code></pre>
                                </div>
                                <div class="cell-output-display">
                                    <p>
                                        <img src="Sitzung3_files/figure-html/unnamed-chunk-18-1.png" 
 class="img-fluid" 
 width="672"> 
                                    </p>
                                </div>
                            </div>
                            <p>
                                Eine wichtige Funktionenklasse in ggplot sind
                                die
                                <code>facet</code>-Funktionen. Mit ihnen lässt
                                sich der Plot nach einer Variablen aufteilen.
                                Als Beispiel teilen wir nach
                                <code>gender</code> auf.
                            </p>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb15">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(weight, alcohol)) <span class="sc">+</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>gender)<span class="sc">+</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Weight in kg"</span>, <span class="at">y =</span> <span class="st">"Alcohol consumption in l"</span>) <span class="sc">+</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Relationship between weight and alcohol consumption"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                                <div class="cell-output-display">
                                    <p>
                                        <img src="Sitzung3_files/figure-html/unnamed-chunk-20-1.png" 
 class="img-fluid" 
 width="672"> 
                                    </p>
                                </div>
                            </div>
                            <p>
                                Wir können auch nach mehreren Variablen mit
                                <code>facet_grid()</code> aufteilen. Hier bspw.
                                nach <code>home</code> und <code>gender</code>.
                            </p>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb16">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">=</span> <span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(weight, alcohol)) <span class="sc">+</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(home<span class="sc">~</span>gender)<span class="sc">+</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Weight in kg"</span>, <span class="at">y =</span> <span class="st">"Alcohol consumption in l"</span>) <span class="sc">+</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Relationship between weight and alcohol consumption"</span>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                                <div class="cell-output-display">
                                    <p>
                                        <img src="Sitzung3_files/figure-html/unnamed-chunk-22-1.png" 
 class="img-fluid" 
 width="672"> 
                                    </p>
                                </div>
                            </div>
                            <p>
                                Zu dem letzten Plot fügen wir nun sekundäre
                                Achsen hinzu, um die beiden Faktoren, nach denen
                                geteilt wird, auch im Plot zu vermerken
                                (fortgeschritten).
                            </p>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb17">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">=</span> p <span class="sc">+</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">sec.axis =</span> <span class="fu">sec_axis</span>(<span class="sc">~</span> . , <span class="at">name =</span> <span class="st">"Home"</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>, <span class="at">labels =</span> <span class="cn">NULL</span>)) <span class="sc">+</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">sec.axis =</span> <span class="fu">sec_axis</span>(<span class="sc">~</span> . , <span class="at">name =</span> <span class="st">"Gender"</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>, <span class="at">labels =</span> <span class="cn">NULL</span>))</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                                <div class="cell-output-display">
                                    <p>
                                        <img src="Sitzung3_files/figure-html/unnamed-chunk-24-1.png" 
 class="img-fluid" 
 width="672"> 
                                    </p>
                                </div>
                            </div>
                            <p>
                                Wenn wir eine Grafik erstellt haben, wollen wir
                                sie meist auch speichern. Das geht mit ggplot
                                ganz einfach mit
                                <code>ggsave()</code>. Hier können wir auch
                                Breite und Höhe vergeben, wenn wir wollen.
                            </p>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb18">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Speichern der Graphik</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Graphikobjekt wird mittels ggsave als Graphik in working directory gespeichert</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"plot.png"</span>, p, <span class="at">width =</span> <span class="dv">5</span>, <span class="at">height =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                            </div>
                        </section>
                    </section>
                    <section id="histogramme" class="level2">
                        <h2 class="anchored" data-anchor-id="histogramme">
                            Histogramme
                        </h2>
                        <p>
                            Histogramme sind gut um die Verteilung einer
                            Variable zu sehen.
                        </p>
                        <div class="cell">
                            <div class="sourceCode cell-code" id="cb19">
                                <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(alcohol)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>gender)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                            </div>
                            <div class="cell-output cell-output-stderr">
                                <pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
                            </div>
                            <div class="cell-output-display">
                                <p>
                                    <img src="Sitzung3_files/figure-html/unnamed-chunk-28-1.png" 
 class="img-fluid" 
 width="672"> 
                                </p>
                            </div>
                        </div>
                        <p>
                            Neben <code>geom_histogram()</code> gibt es bspw.
                            auch <code>geom_bar()</code> zum Erstellen von
                            Histogrammen. Mit <code>ylim()</code> setzen wir
                            hier außerdem die Grenzen der Y-Achse.
                        </p>
                        <div class="cell">
                            <div class="sourceCode cell-code" id="cb21">
                                <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(alcohol)) <span class="sc">+</span> <span class="fu">geom_bar</span>() <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>gender) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Alcohol consumption in l"</span>, <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"Alcohol consumption by gender"</span>) <span class="sc">+</span> <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                            </div>
                            <div class="cell-output-display">
                                <p>
                                    <img src="Sitzung3_files/figure-html/unnamed-chunk-30-1.png" 
 class="img-fluid" 
 width="672"> 
                                </p>
                            </div>
                        </div>
                    </section>
                    <section id="grafiken-für-kategorialen-praediktor-und-kontinuierliches-kriterium" 
 class="level2">
                        <h2 class="anchored" 
 data-anchor-id="grafiken-für-kategorialen-praediktor-und-kontinuierliches-kriterium">
                            Grafiken für kategorialen Praediktor und
                            kontinuierliches Kriterium
                        </h2>
                        <p>
                            Meist haben wir auch einen kategorialen Prädiktor
                            und ein kontinuierliches Kriterium. Bei unseren
                            Daten könnten wir uns bspw. fragen, ob es einen
                            Unterschied in der Häufigkeit der Teilnahme an
                            Veranstaltungen der Orientierungswoche zwischen
                            Menschen mit Heimat in Nord- bzw. Süddeutschland
                            gibt.
                        </p>
                        <section id="grafiken-für-rohdaten" class="level3">
                            <h3 class="anchored" 
 data-anchor-id="grafiken-für-rohdaten">
                                Grafiken für Rohdaten
                            </h3>
                            <p>
                                Damit wir die einzelnen Datenpunkte gut sehen
                                können, sollten diese nicht alle genau über den
                                Strichen für den Norden bzw. den Süden sein,
                                sondern sich ein bisschen um den Strich herum
                                verteilen. Dies geht mit
                                <code>geom_jitter()</code>, wo wir eine Breite
                                festlegen, damit sich die Punkte auf der x-Achse
                                um die Striche gruppieren. Wir setzen dabei die
                                Höhe aber auf 0, weil wir die Daten verfälschen
                                würden, wenn wir sie auf der y-Achse
                                herumschieben.
                            </p>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb22">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(home, visited)) <span class="sc">+</span> </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.2</span>, <span class="at">height =</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                                <div class="cell-output-display">
                                    <p>
                                        <img src="Sitzung3_files/figure-html/unnamed-chunk-32-1.png" 
 class="img-fluid" 
 width="672"> 
                                    </p>
                                </div>
                            </div>
                            <p>
                                Fällt euch eine Sache auf, die wir noch an
                                diesem Plot verbessern könnten? Wenn ihr es
                                herausfindet, könnt ihr gerne mal versuchen,
                                entsprechende Änderungen am Plot zu machen.
                            </p>
                            <p>
                                Wir sehen jetzt zwar die einzelnen Punkte des
                                Kriteriums, haben aber noch keine wirklich gute
                                Idee von ihrer Verteilung. Um die zu
                                veranschaulichen, lassen sich Violinenplots
                                benutzen. Das Prinzip dabei ist, dass die
                                Verteilung der Variable auf die y-Achse
                                gezeichnet und dann an der y-Achse gespiegelt
                                wird. So entsteht eine Figur, die unter
                                Umständen wie eine Geige aussieht.
                            </p>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb23">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(home, visited)) <span class="sc">+</span> <span class="fu">geom_violin</span>() <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.2</span>, <span class="at">height =</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                                <div class="cell-output-display">
                                    <p>
                                        <img src="Sitzung3_files/figure-html/unnamed-chunk-34-1.png" 
 class="img-fluid" 
 width="672"> 
                                    </p>
                                </div>
                            </div>
                            <p>
                                Bei einigen geoms lässt sich mit dem
                                <code>stat</code>-Parameter ausdrücken, welche
                                Statistik eingezeichnet werden soll. Das nutzen
                                wir hier zusammen mit
                                <code>stat_summary()</code>, um Mittelwert und
                                Konfidenzintervall einzuzeichnen. Außerdem hat
                                ggplot viele verschiedene Themes, von denen wir
                                hier das populäre
                                <code>theme_classis()</code> benutzen. Damit
                                sind wir auch schon eher im Einklang mit
                                APA-Standards für Grafiken.
                            </p>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb24">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mit violin plot und Mittelwert mit Fehlerbalken</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(home, visited)) <span class="sc">+</span> <span class="fu">geom_violin</span>() <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.2</span>, <span class="at">height =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">stat=</span><span class="st">"summary"</span>,<span class="at">fun =</span> mean,<span class="at">size=</span><span class="fl">1.5</span>, <span class="at">col =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">geom=</span><span class="st">"errorbar"</span>, <span class="at">fun.data=</span>mean_se, <span class="at">width=</span>.<span class="dv">2</span>, <span class="at">col =</span><span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                                <div class="cell-output-display">
                                    <p>
                                        <img src="Sitzung3_files/figure-html/unnamed-chunk-36-1.png" 
 class="img-fluid" 
 width="672"> 
                                    </p>
                                </div>
                            </div>
                        </section>
                        <section id="grafiken-für-mittelwerte-in-verschiedenen-gruppen" 
 class="level3">
                            <h3 class="anchored" 
 data-anchor-id="grafiken-für-mittelwerte-in-verschiedenen-gruppen">
                                Grafiken für Mittelwerte in verschiedenen
                                Gruppen
                            </h3>
                            <p>
                                Um deskriptive Werte für Faktoren zu
                                veranschaulichen, können wir natürlich erst die
                                deskriptiven Werte mit
                                <code>describeBy()</code> berechnen und das
                                Ergebnis dann mit ggplot darstellen.
                            </p>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb25">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>descriptives <span class="ot">&lt;-</span> <span class="fu">describeBy</span>(visited <span class="sc">~</span> home, <span class="at">mat =</span> <span class="cn">TRUE</span>, <span class="at">data =</span> dat)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Name des Faktors einfügen</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(descriptives)[<span class="fu">names</span>(descriptives) <span class="sc">==</span> <span class="st">"group1"</span>] <span class="ot">&lt;-</span> <span class="st">"home"</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Konfidenzintervall ausrechnen</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>descriptives<span class="sc">$</span>ci_95 <span class="ot">&lt;-</span> descriptives<span class="sc">$</span>se<span class="sc">*</span><span class="fl">1.96</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Grafik machen</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(descriptives, <span class="fu">aes</span>(<span class="at">x=</span>home, <span class="at">y=</span>mean)) <span class="sc">+</span> </span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span>mean<span class="sc">-</span>ci_95, <span class="at">ymax=</span>mean<span class="sc">+</span>ci_95), <span class="at">width=</span>.<span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Visited events by home"</span>)<span class="sc">+</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                                <div class="cell-output-display">
                                    <p>
                                        <img src="Sitzung3_files/figure-html/unnamed-chunk-38-1.png" 
 class="img-fluid" 
 width="672"> 
                                    </p>
                                </div>
                            </div>
                            <p>
                                Einfacher wird das Ganze aber dadurch, dass
                                ggplot das Berechnen der deskriptiven Werte auch
                                selbst übernehmen kann. Dazu nutzt man die
                                Parameter <code>fun</code> und
                                <code>fun.data</code> und gibt das gewünschte
                                <code>geom</code> auch als Parameter mit. Hier
                                nutzen wir als Beispiel Balken
                            </p>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb26">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(home, visited)) <span class="sc">+</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">"bar"</span>, <span class="at">fill =</span> <span class="st">"dark blue"</span>) <span class="sc">+</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun.data =</span> mean_se, <span class="at">geom =</span> <span class="st">"errorbar"</span>, <span class="at">width=</span>.<span class="dv">3</span>)<span class="sc">+</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Visited events by home"</span>)<span class="sc">+</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                                <div class="cell-output-display">
                                    <p>
                                        <img src="Sitzung3_files/figure-html/unnamed-chunk-40-1.png" 
 class="img-fluid" 
 width="672"> 
                                    </p>
                                </div>
                            </div>
                            <p>
                                Es fällt hier natürlich auf, dass wir bei
                                <code>diverse</code> und
                                <code>no answer</code> zu wenige Datenpunkte
                                haben, um ein Konfidenzintervall zu bilden. Dies
                                ist der Grund, warum diese beiden Optionen bei
                                deskriptiven Analysen und Geschlechtereffekten
                                oft ignoriert werden.
                            </p>
                            <p>
                                Eine solche deskriptive Grafik können wir auch
                                mit mehreren Faktoren machen. Als nächstes
                                untersuchen wir
                                <code>home</code> und <code>gender</code>.
                            </p>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb27">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>pd <span class="ot">&lt;-</span> <span class="fu">position_dodge</span>(<span class="dv">1</span>, <span class="at">preserve =</span> <span class="st">"single"</span>) <span class="co"># setzt die Balken nebeneinander</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(home, visited, <span class="at">fill =</span> gender)) <span class="sc">+</span> </span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">"bar"</span>, <span class="at">position =</span> pd) <span class="sc">+</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun.data =</span> mean_se, <span class="at">geom =</span> <span class="st">"errorbar"</span>, <span class="at">width=</span>.<span class="dv">3</span>, <span class="at">position =</span> pd)<span class="sc">+</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Visited events by home and gender"</span>)<span class="sc">+</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                                <div class="cell-output-display">
                                    <p>
                                        <img src="Sitzung3_files/figure-html/unnamed-chunk-42-1.png" 
 class="img-fluid" 
 width="672"> 
                                    </p>
                                </div>
                            </div>
                            <p>Das Ganze können wir auch mit Punkten machen.</p>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb28">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(home, visited, <span class="at">color =</span> gender)) <span class="sc">+</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">"point"</span>) <span class="sc">+</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun.data =</span> mean_se, <span class="at">geom =</span> <span class="st">"errorbar"</span>, <span class="at">width=</span>.<span class="dv">3</span>)<span class="sc">+</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Visited events by home and gender"</span>)<span class="sc">+</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                                <div class="cell-output-display">
                                    <p>
                                        <img src="Sitzung3_files/figure-html/unnamed-chunk-44-1.png" 
 class="img-fluid" 
 width="672"> 
                                    </p>
                                </div>
                            </div>
                            <p>
                                Auch hier sollten wir die Positionen der Punkte
                                auf der x-Achse ein bisschen variieren, damit es
                                übersichtlicher wird.
                            </p>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb29">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>pd <span class="ot">&lt;-</span> <span class="fu">position_dodge</span>(<span class="fl">0.4</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(home, visited, <span class="at">color =</span> gender)) <span class="sc">+</span> </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">"point"</span>, <span class="at">position=</span>pd) <span class="sc">+</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun.data =</span> mean_se, <span class="at">geom =</span> <span class="st">"errorbar"</span>, <span class="at">position=</span>pd, <span class="at">width=</span>.<span class="dv">3</span>)<span class="sc">+</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Visited events by home and gender"</span>)<span class="sc">+</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                                <div class="cell-output-display">
                                    <p>
                                        <img src="Sitzung3_files/figure-html/unnamed-chunk-46-1.png" 
 class="img-fluid" 
 width="672"> 
                                    </p>
                                </div>
                            </div>
                            <p>
                                Das wars erstmal für die Grafiken. In der
                                nächsten Sitzung wollen wir uns um deskriptive
                                Statistik kümmern.
                            </p>
                        </section>
                    </section>
                    <section id="anhang" class="level2">
                        <h2 class="anchored" data-anchor-id="anhang">Anhang</h2>
                        <p>
                            Im Anhang findet ihr zu jeder Sitzung Codechunks,
                            die ich für die Erstellung der Sitzung benutzt habe.
                            Vielleicht sind die ja für den einen oder die andere
                            spannend.
                        </p>
                        <section id="datenerschaffung-nur-für-testzweckesimulationen-erlaubt" 
 class="level3">
                            <h3 class="anchored" 
 data-anchor-id="datenerschaffung-nur-für-testzweckesimulationen-erlaubt">
                                Datenerschaffung (nur für
                                Testzwecke/Simulationen erlaubt)
                            </h3>
                            <div class="cell">
                                <div class="sourceCode cell-code" id="cb30">
                                    <pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>gender <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">48</span>), <span class="fu">rep</span>(<span class="dv">2</span>, <span class="dv">48</span>), <span class="fu">rep</span>(<span class="dv">3</span>, <span class="dv">3</span>), <span class="dv">4</span>)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>home <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">24</span>), <span class="fu">rep</span>(<span class="dv">2</span>, <span class="dv">24</span>), <span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">24</span>), <span class="fu">rep</span>(<span class="dv">2</span>, <span class="dv">24</span>), <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>visited <span class="ot">=</span> <span class="fu">round</span>(<span class="dv">5</span> <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="dv">0</span>, <span class="dv">1</span>) <span class="sc">+</span> (gender <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">*</span> <span class="dv">3</span> <span class="sc">+</span> (home <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> <span class="dv">2</span>)</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>alcohol <span class="ot">=</span> <span class="fu">round</span>(<span class="dv">5</span> <span class="sc">+</span> <span class="fl">0.75</span> <span class="sc">*</span> <span class="fu">scale</span>(visited)[, <span class="dv">1</span>] <span class="sc">*</span> <span class="fl">0.75</span> <span class="sc">+</span> <span class="fl">0.25</span> <span class="sc">*</span> (<span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="dv">0</span>, <span class="dv">1</span>) <span class="sc">+</span> (gender <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">*</span> <span class="dv">5</span> <span class="sc">+</span> (home <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> <span class="dv">2</span>), <span class="dv">1</span>)</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>weight <span class="ot">=</span> <span class="dv">70</span> <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="dv">0</span>, <span class="dv">10</span>) <span class="sc">+</span> (gender <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">*</span> <span class="dv">15</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">=</span> <span class="fu">data.frame</span>(gender, home, visited, alcohol, weight)</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">=</span> dat[<span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(dat)), ]</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>subjectNr <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(dat)</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(dat, <span class="st">"consumption_ophase.csv"</span>, <span class="at">row.names=</span>F)</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(gender, home, visited, alcohol, weight)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
                                </div>
                            </div>
                        </section>
                    </section>
                </section>
            </main>
            <!-- /main column -->
            <script id="quarto-html-after-body" type="application/javascript">
                window.document.addEventListener(
                    "DOMContentLoaded",
                    function (event) {
                        const toggleBodyColorMode = (bsSheetEl) => {
                            const mode = bsSheetEl.getAttribute("data-mode");
                            const bodyEl =
                                window.document.querySelector("body");
                            if (mode === "dark") {
                                bodyEl.classList.add("quarto-dark");
                                bodyEl.classList.remove("quarto-light");
                            } else {
                                bodyEl.classList.add("quarto-light");
                                bodyEl.classList.remove("quarto-dark");
                            }
                        };
                        const toggleBodyColorPrimary = () => {
                            const bsSheetEl = window.document.querySelector(
                                "link#quarto-bootstrap"
                            );
                            if (bsSheetEl) {
                                toggleBodyColorMode(bsSheetEl);
                            }
                        };
                        toggleBodyColorPrimary();
                        const icon = "";
                        const anchorJS = new window.AnchorJS();
                        anchorJS.options = {
                            placement: "right",
                            icon: icon,
                        };
                        anchorJS.add(".anchored");
                        const isCodeAnnotation = (el) => {
                            for (const clz of el.classList) {
                                if (clz.startsWith("code-annotation-")) {
                                    return true;
                                }
                            }
                            return false;
                        };
                        const clipboard = new window.ClipboardJS(
                            ".code-copy-button",
                            {
                                text: function (trigger) {
                                    const codeEl =
                                        trigger.previousElementSibling.cloneNode(
                                            true
                                        );
                                    for (const childEl of codeEl.children) {
                                        if (isCodeAnnotation(childEl)) {
                                            childEl.remove();
                                        }
                                    }
                                    return codeEl.innerText;
                                },
                            }
                        );
                        clipboard.on("success", function (e) {
                            // button target
                            const button = e.trigger;
                            // don't keep focus
                            button.blur();
                            // flash "checked"
                            button.classList.add("code-copy-button-checked");
                            var currentTitle = button.getAttribute("title");
                            button.setAttribute("title", "Copied!");
                            let tooltip;
                            if (window.bootstrap) {
                                button.setAttribute(
                                    "data-bs-toggle",
                                    "tooltip"
                                );
                                button.setAttribute(
                                    "data-bs-placement",
                                    "left"
                                );
                                button.setAttribute("data-bs-title", "Copied!");
                                tooltip = new bootstrap.Tooltip(button, {
                                    trigger: "manual",
                                    customClass: "code-copy-button-tooltip",
                                    offset: [0, -8],
                                });
                                tooltip.show();
                            }
                            setTimeout(function () {
                                if (tooltip) {
                                    tooltip.hide();
                                    button.removeAttribute("data-bs-title");
                                    button.removeAttribute("data-bs-toggle");
                                    button.removeAttribute("data-bs-placement");
                                }
                                button.setAttribute("title", currentTitle);
                                button.classList.remove(
                                    "code-copy-button-checked"
                                );
                            }, 1000);
                            // clear code selection
                            e.clearSelection();
                        });
                        function tippyHover(el, contentFn) {
                            const config = {
                                allowHTML: true,
                                content: contentFn,
                                maxWidth: 500,
                                delay: 100,
                                arrow: false,
                                appendTo: function (el) {
                                    return el.parentElement;
                                },
                                interactive: true,
                                interactiveBorder: 10,
                                theme: "quarto",
                                placement: "bottom-start",
                            };
                            window.tippy(el, config);
                        }
                        const noterefs = window.document.querySelectorAll(
                            'a[role="doc-noteref"]'
                        );
                        for (var i = 0; i < noterefs.length; i++) {
                            const ref = noterefs[i];
                            tippyHover(ref, function () {
                                // use id or data attribute instead here
                                let href =
                                    ref.getAttribute("data-footnote-href") ||
                                    ref.getAttribute("href");
                                try {
                                    href = new URL(href).hash;
                                } catch {}
                                const id = href.replace(/^#\/?/, "");
                                const note = window.document.getElementById(id);
                                return note.innerHTML;
                            });
                        }
                        let selectedAnnoteEl;
                        const selectorForAnnotation = (cell, annotation) => {
                            let cellAttr = 'data-code-cell="' + cell + '"';
                            let lineAttr =
                                'data-code-annotation="' + annotation + '"';
                            const selector =
                                "span[" + cellAttr + "][" + lineAttr + "]";
                            return selector;
                        };
                        const selectCodeLines = (annoteEl) => {
                            const doc = window.document;
                            const targetCell =
                                annoteEl.getAttribute("data-target-cell");
                            const targetAnnotation = annoteEl.getAttribute(
                                "data-target-annotation"
                            );
                            const annoteSpan = window.document.querySelector(
                                selectorForAnnotation(
                                    targetCell,
                                    targetAnnotation
                                )
                            );
                            const lines = annoteSpan
                                .getAttribute("data-code-lines")
                                .split(",");
                            const lineIds = lines.map((line) => {
                                return targetCell + "-" + line;
                            });
                            let top = null;
                            let height = null;
                            let parent = null;
                            if (lineIds.length > 0) {
                                //compute the position of the single el (top and bottom and make a div)
                                const el = window.document.getElementById(
                                    lineIds[0]
                                );
                                top = el.offsetTop;
                                height = el.offsetHeight;
                                parent = el.parentElement.parentElement;
                                if (lineIds.length > 1) {
                                    const lastEl =
                                        window.document.getElementById(
                                            lineIds[lineIds.length - 1]
                                        );
                                    const bottom =
                                        lastEl.offsetTop + lastEl.offsetHeight;
                                    height = bottom - top;
                                }
                                if (
                                    top !== null &&
                                    height !== null &&
                                    parent !== null
                                ) {
                                    // cook up a div (if necessary) and position it
                                    let div = window.document.getElementById(
                                        "code-annotation-line-highlight"
                                    );
                                    if (div === null) {
                                        div =
                                            window.document.createElement(
                                                "div"
                                            );
                                        div.setAttribute(
                                            "id",
                                            "code-annotation-line-highlight"
                                        );
                                        div.style.position = "absolute";
                                        parent.appendChild(div);
                                    }
                                    div.style.top = top - 2 + "px";
                                    div.style.height = height + 4 + "px";
                                    let gutterDiv =
                                        window.document.getElementById(
                                            "code-annotation-line-highlight-gutter"
                                        );
                                    if (gutterDiv === null) {
                                        gutterDiv =
                                            window.document.createElement(
                                                "div"
                                            );
                                        gutterDiv.setAttribute(
                                            "id",
                                            "code-annotation-line-highlight-gutter"
                                        );
                                        gutterDiv.style.position = "absolute";
                                        const codeCell =
                                            window.document.getElementById(
                                                targetCell
                                            );
                                        const gutter = codeCell.querySelector(
                                            ".code-annotation-gutter"
                                        );
                                        gutter.appendChild(gutterDiv);
                                    }
                                    gutterDiv.style.top = top - 2 + "px";
                                    gutterDiv.style.height = height + 4 + "px";
                                }
                                selectedAnnoteEl = annoteEl;
                            }
                        };
                        const unselectCodeLines = () => {
                            const elementsIds = [
                                "code-annotation-line-highlight",
                                "code-annotation-line-highlight-gutter",
                            ];
                            elementsIds.forEach((elId) => {
                                const div =
                                    window.document.getElementById(elId);
                                if (div) {
                                    div.remove();
                                }
                            });
                            selectedAnnoteEl = undefined;
                        };
                        // Attach click handler to the DT
                        const annoteDls = window.document.querySelectorAll(
                            "dt[data-target-cell]"
                        );
                        for (const annoteDlNode of annoteDls) {
                            annoteDlNode.addEventListener("click", (event) => {
                                const clickedEl = event.target;
                                if (clickedEl !== selectedAnnoteEl) {
                                    unselectCodeLines();
                                    const activeEl =
                                        window.document.querySelector(
                                            "dt[data-target-cell].code-annotation-active"
                                        );
                                    if (activeEl) {
                                        activeEl.classList.remove(
                                            "code-annotation-active"
                                        );
                                    }
                                    selectCodeLines(clickedEl);
                                    clickedEl.classList.add(
                                        "code-annotation-active"
                                    );
                                } else {
                                    // Unselect the line
                                    unselectCodeLines();
                                    clickedEl.classList.remove(
                                        "code-annotation-active"
                                    );
                                }
                            });
                        }
                        const findCites = (el) => {
                            const parentEl = el.parentElement;
                            if (parentEl) {
                                const cites = parentEl.dataset.cites;
                                if (cites) {
                                    return {
                                        el,
                                        cites: cites.split(" "),
                                    };
                                } else {
                                    return findCites(el.parentElement);
                                }
                            } else {
                                return undefined;
                            }
                        };
                        var bibliorefs = window.document.querySelectorAll(
                            'a[role="doc-biblioref"]'
                        );
                        for (var i = 0; i < bibliorefs.length; i++) {
                            const ref = bibliorefs[i];
                            const citeInfo = findCites(ref);
                            if (citeInfo) {
                                tippyHover(citeInfo.el, function () {
                                    var popup =
                                        window.document.createElement("div");
                                    citeInfo.cites.forEach(function (cite) {
                                        var citeDiv =
                                            window.document.createElement(
                                                "div"
                                            );
                                        citeDiv.classList.add("hanging-indent");
                                        citeDiv.classList.add("csl-entry");
                                        var biblioDiv =
                                            window.document.getElementById(
                                                "ref-" + cite
                                            );
                                        if (biblioDiv) {
                                            citeDiv.innerHTML =
                                                biblioDiv.innerHTML;
                                        }
                                        popup.appendChild(citeDiv);
                                    });
                                    return popup.innerHTML;
                                });
                            }
                        }
                    }
                );
            </script>
        </div>
        <!-- /content -->

        <script src="Sitzung3_files/libs/quarto-html/zenscroll-min.js"></script>
    </body>
</html>
